<!DOCTYPE html>
<html lang="en">

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elaria - Search Results</title>

    <style>
        /* Reusing common structural styles from category pages */
        .page-container {
            max-width: 1400px;
            margin: 40px auto;
            padding: 0 15px;
        }
        
        /* Unique header for search results */
        .search-header {
            margin-bottom: 25px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }

        .search-header h1 {
            font-size: 1.8rem;
            color: #4B3832;
            font-weight: 600;
        }
        
        .search-query-display {
            font-weight: bold;
            color: #8A2D3C; /* Maroon accent for the query */
        }
        
        .results-info {
            font-size: 0.95rem;
            color: #666;
        }

        /* --- Filter Panel (Reused from Category/Product List) --- */
        .filter-panel {
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .filter-panel h5 {
            font-size: 1.1rem;
            color: #4B3832;
            margin-top: 15px;
            margin-bottom: 10px;
            font-weight: bold;
            border-bottom: 1px dashed #ddd;
            padding-bottom: 5px;
        }

        .form-check-label {
            font-size: 0.9rem;
            color: #4B3832;
        }

        /* --- Product Grid (Reused from Category/Product List) --- */
        .product-card {
            border: 1px solid #eee;
            border-radius: 8px;
            overflow: hidden;
            text-align: center;
            margin-bottom: 25px;
            transition: box-shadow 0.3s;
            position: relative;
        }

        .product-card:hover {
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .product-image {
            height: 200px;
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .product-info {
            padding: 15px 10px;
        }

        .product-info h5 {
            font-size: 1rem;
            color: #4B3832;
            margin-bottom: 5px;
        }

        .product-price {
            font-size: 1.1rem;
            font-weight: bold;
            color: #8A2D3C;
        }
        
        .add-to-cart-btn {
            background-color: #D4B294;
            color: #4B3832;
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        /* Sorting/View Control */
        .sort-control {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }
        
        @media (max-width: 992px) {
            .filter-panel {
                display: none; /* Hide filter panel on smaller screens for simplicity */
            }
        }
    </style>
</head>

<body>
    <nav class="elaria-navbar">
        <div class="navbar-top">
          <div class="logo">
            <img src="elaria.png" alt="Elaria Logo">
          </div>
      
          <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search for Gold Jewellery, Diamond Jewellery and more..." class="search-input">
            <button class="search-icon" id="searchButton"><i class="fa fa-search"></i></button>
          </div>
      
          <div class="navbar-utility-right">
            <a href="favourites.html" class="icon-link"><i class="fa-solid fa-heart"></i></a>
            <a href="login.html" class="icon-link"><i class="fa-solid fa-user"></i></a>
            <a href="cart.html" class="icon-link"><i class="fa-solid fa-cart-shopping"></i></a>
      
          
            <button class="menu-toggle" id="menuToggle"><i class="fa-solid fa-bars"></i></button>
          </div>
        </div>
      
        <div class="navbar-bottom" id="navbarBottom">
          <ul class="menu-list">
            <li>
              <a href="dailywears.html">
                <img src="dailywearslogo.jpg" alt="Daily Wears" class="menu-icon-img">
                Daily Wears
              </a>
            </li>
            <li>
              <a href="necklaces.html">
                <img src="necklacelogo.jpg" alt="Necklaces" class="menu-icon-img">
                Necklaces
              </a>
            </li>
            <li>
              <a href="earings.html">
                <img src="earings.jpg" alt="Earrings" class="menu-icon-img">
                Earrings
              </a>
            </li>
            <li>
              <a href="rings.html">
                <img src="rings.jpg" alt="Rings" class="menu-icon-img">
                Rings
              </a>
            </li>
            <li>
              <a href="wedding.html">
                <img src="wedding.jpg" alt="Wedding" class="menu-icon-img">
                Wedding
              </a>
            </li>
            <li>
              <a href="gifting.html">
                <img src="gift.jpg" alt="Gifting" class="menu-icon-img">
                Gifting
              </a>
            </li>
          </ul>
        </div>
        
      </nav>
    <div class="page-container">
        
        <div class="search-header">
            <h1>Search Results for: <span class="search-query-display" id="displayed-query">"..."</span></h1>
            <p class="results-info" id="results-count-info">Showing 1-12 of 75 results</p>
        </div>

        <div class="row">
            
            <div class="col-lg-3 d-none d-lg-block">
                <div class="filter-panel">
                    <h4>Filter Results</h4>
                    
                    <h5>Jewellery Type</h5>
                    <div class="form-check"><input class="form-check-input" type="checkbox"><label class="form-check-label">Rings (25)</label></div>
                    <div class="form-check"><input class="form-check-input" type="checkbox"><label class="form-check-label">Earrings (18)</label></div>
                    <div class="form-check"><input class="form-check-input" type="checkbox"><label class="form-check-label">Pendants (12)</label></div>
                    
                    <h5>Price Range</h5>
                    <div class="form-check"><input class="form-check-input" type="checkbox"><label class="form-check-label">Under â‚¹ 50,000</label></div>
                    <div class="form-check"><input class="form-check-input" type="checkbox"><label class="form-check-label">â‚¹ 50,000 - â‚¹ 1,50,000</label></div>
                    
                    <h5>Material</h5>
                    <div class="form-check"><input class="form-check-input" type="checkbox"><label class="form-check-label">Gold (50)</label></div>
                    <div class="form-check"><input class="form-check-input" type="checkbox"><label class="form-check-label">Diamond (25)</label></div>

                    <button class="btn btn-sm btn-outline-secondary mt-3 w-100">Apply Filters</button>
                </div>
            </div>

            <div class="col-lg-9">
                
                <div class="sort-control">
                    <label for="sort-by" class="me-2">Sort By:</label>
                    <select id="sort-by" class="form-select form-select-sm" style="width: 150px;">
                        <option selected>Relevance</option>
                        <option>Price: Low to High</option>
                        <option>Price: High to Low</option>
                        <option>Newest Arrivals</option>
                    </select>
                </div>

                <div class="row">
                    <div class="col-6 col-md-4 col-xl-3">
                        <div class="product-card">
                            <div class="product-image" style="background-image: url('images/exturedGoldFingerRing.jpg');"></div>
                            <div class="product-info">
                                <h5>Simple Sparkling Eternity Ring</h5>
                                <p class="product-price">â‚¹ 95,000</p>
                                <button class="add-to-cart-btn"><i class="fa-solid fa-bag-shopping"></i> Add to Cart</button>
                            </div>
                        </div>
                    </div>

                    <div class="col-6 col-md-4 col-xl-3">
                        <div class="product-card">
                            <div class="product-image" style="background-image: url('images/TinyHoopEarrings.jpg');"></div>
                            <div class="product-info">
                                <h5>Small Gold Hoop Earrings</h5>
                                <p class="product-price">â‚¹ 18,500</p>
                                <button class="add-to-cart-btn"><i class="fa-solid fa-bag-shopping"></i> Add to Cart</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-6 col-md-4 col-xl-3">
                        <div class="product-card">
                            <div class="product-image" style="background-image: url('images/InitialAPendant.jpg');"></div>
                            <div class="product-info">
                                <h5>Simple Diamond Initial Pendant</h5>
                                <p class="product-price">â‚¹ 45,000</p>
                                <button class="add-to-cart-btn"><i class="fa-solid fa-bag-shopping"></i> Add to Cart</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-6 col-md-4 col-xl-3">
                        <div class="product-card">
                            <div class="product-image" style="background-image: url('images/RegaliaCharmBangle.jpg');"></div>
                            <div class="product-info">
                                <h5>Minimalist Diamond Bangle</h5>
                                <p class="product-price">â‚¹ 98,000</p>
                                <button class="add-to-cart-btn"><i class="fa-solid fa-bag-shopping"></i> Add to Cart</button>
                            </div>
                        </div>
                    </div>

                    </div>
                
                <nav class="mt-4">
                    <ul class="pagination justify-content-center">
                        <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item"><a class="page-link" href="#">Next</a></li>
                    </ul>
                </nav>

            </div>
            
        </div>
        
    </div>

    <footer class="main-footer">
        <div class="footer-content-wrapper">
    
          <div class="footer-logo"
            style= "background-image: url(elaria.png); background-repeat: no-repeat; background-size: contain;">.</div>
    
          <div class="footer-grid">
            <div class="footer-col">
              <p class="col-heading">Useful Links</p>
              <ul>
                <li><a href="delivery.html">Delivery Information</a></li>
                <li><a href="delivery.html">International Shipping</a></li>
                <li><a href="payment.html">Payment Options</a></li>
                <li><a href="track.html">Track your Order</a></li>
                <li><a href="return.html">Returns</a></li>
              </ul>
            </div>
    
            <div class="footer-col">
              <p class="col-heading">Information</p>
              <ul>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="offers.html">Offers & Contest Details</a></li>
                <li><a href="helpandfaq.html">Help & FAQs</a></li>
                <li><a href="about.html">About Elaria</a></li>
                <li><a href="feedback.html">Feedback & Contact Us</a></li>
    
            </div>
    
            <div class="footer-col contact-col">
              <p class="col-heading">Contact Us</p>
              <p class="contact-number">1800-266-0123</p>
    
              <p class="col-heading chat-heading">Chat With Us</p>
              <p class="contact-number">+91 7306614239</p>
    
              <div class="contact-icons">
                <a href="#">ðŸ’¬</a>
                <a href="#">ðŸ“§</a>
                <a href="#">ðŸ“ž</a>
              </div>
            </div>
    
          </div>
    
          <div class="footer-social">
            <p class="col-heading">Social</p>
            <div class="social-icons">
              <a href="#"><i class="fa-brands fa-instagram"> instagram</i>
              </a>
              <a href="#"><i class="fa-brands fa-facebook-f">acebook</i>
              </a>
              <a href="#"><i class="fa-brands fa-twitter"> X</i>
              </a>
              <a href="https://wa.me/7306614239"><i class="fa-brands fa-whatsapp"> whatsapp</i>
              </a>
            </div>
          </div>
    
        </div>
      </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            const displayedQuery = document.getElementById('displayed-query');

            // --- Function to extract and display the search query from the URL ---
            function getSearchQuery() {
                const params = new URLSearchParams(window.location.search);
                const query = params.get('q');
                
                if (query) {
                    const decodedQuery = decodeURIComponent(query);
                    displayedQuery.textContent = '"' + decodedQuery + '"';
                    
                    // Pre-fill the navbar search input with the current query
                    searchInput.value = decodedQuery;
                } else {
                    displayedQuery.textContent = "All Products";
                    document.getElementById('results-count-info').textContent = "Displaying all products due to empty query.";
                }
            }
            
            // --- Re-implement the search logic for the navbar (in case user searches again) ---
            function performSearch() {
                const query = searchInput.value.trim();
                if (query.length > 0) {
                    const searchURL = `searchresults.html?q=${encodeURIComponent(query)}`;
                    window.location.href = searchURL;
                } else {
                    alert("Please enter a search term.");
                }
            }

            // --- Attach Event Listeners ---
            searchButton.addEventListener('click', performSearch);
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });

            // --- Run on page load ---
            getSearchQuery();
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            const displayedQuery = document.getElementById('displayed-query');
            const applyFiltersButton = document.querySelector('.filter-panel .btn-outline-secondary'); // Select the Apply Filters button
    
            // --- Function to extract and display the search query from the URL ---
            function getSearchQuery() {
                const params = new URLSearchParams(window.location.search);
                const query = params.get('q');
                
                if (query) {
                    const decodedQuery = decodeURIComponent(query);
                    displayedQuery.textContent = '"' + decodedQuery + '"';
                    
                    // Pre-fill the navbar search input with the current query
                    searchInput.value = decodedQuery;
                } else {
                    displayedQuery.textContent = "All Products";
                    document.getElementById('results-count-info').textContent = "Displaying all products due to empty query.";
                }
            }
            
            // --- Re-implement the search logic for the navbar (in case user searches again) ---
            function performSearch() {
                const query = searchInput.value.trim();
                if (query.length > 0) {
                    const searchURL = `searchresults.html?q=${encodeURIComponent(query)}`;
                    window.location.href = searchURL;
                } else {
                    alert("Please enter a search term.");
                }
            }
    
            // --- NEW: Function to handle filter application ---
            function applyFilters() {
                const selectedFilters = {
                    'Jewellery Type': [],
                    'Price Range': [],
                    'Material': []
                };
    
                // Get all checked checkboxes within the filter panel
                const checkboxes = document.querySelectorAll('.filter-panel .form-check-input:checked');
                
                checkboxes.forEach(checkbox => {
                    const label = checkbox.nextElementSibling.textContent.trim(); // Get the label text (e.g., Rings (25))
                    
                    // Find the parent h5 (the filter category)
                    let parent = checkbox.closest('.filter-panel');
                    let categoryElement = checkbox.closest('.form-check');
                    while(categoryElement && !categoryElement.previousElementSibling?.tagName.startsWith('H')) {
                        categoryElement = categoryElement.previousElementSibling;
                    }
                    
                    // A simpler way to infer the category based on the filter-panel structure
                    let currentHeading = '';
                    const formChecks = parent.querySelectorAll('.form-check');
                    
                    for (const h5 of parent.querySelectorAll('h5')) {
                        // Check if the current checkbox is located *after* this h5 and *before* the next h5
                        let nextSibling = h5.nextElementSibling;
                        let isUnderThisHeading = false;
                        while(nextSibling && nextSibling.tagName !== 'H5') {
                            if (nextSibling.contains(checkbox)) {
                                isUnderThisHeading = true;
                                break;
                            }
                            nextSibling = nextSibling.nextElementSibling;
                        }
    
                        if (isUnderThisHeading) {
                            currentHeading = h5.textContent.trim();
                            // Strip counts (e.g., 'Rings (25)' -> 'Rings')
                            const filterValue = label.replace(/\s*\(\d+\)$/, ''); 
                            selectedFilters[currentHeading].push(filterValue);
                            break; 
                        }
                    }
                });
    
                // Log the selected filters (This is where you'd make an AJAX call or update the URL)
                console.log("Applying Filters:", selectedFilters);
                
                // You would typically:
                // 1. Construct a new URL with the filters as query parameters (e.g., ?q=ring&type=rings&price=low)
                // 2. Or, make an AJAX request to fetch the filtered results and update the product grid.
                
                alert("Filters applied! Check the console for the selected values.");
            }
    
    
            // --- Attach Event Listeners ---
            searchButton.addEventListener('click', performSearch);
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
            
            // Attach the new filter listener
            if (applyFiltersButton) {
                applyFiltersButton.addEventListener('click', applyFilters);
            }
    
            // --- Run on page load ---
            getSearchQuery();
        });
    </script>
</body>
</html>