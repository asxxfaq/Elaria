<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Elaria - Necklaces</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="necklaces.css">
</head>
<body>
  <nav class="elaria-navbar">
    <div class="navbar-top">
      <div class="logo">
        <a href="index.html">
        <img src="elaria.png" alt="Elaria Logo">
    </a>
      </div>
  
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search for Gold Jewellery, Diamond Jewellery and more..." class="search-input">
        <button class="search-icon" id="searchButton"><i class="fa fa-search"></i></button>
      </div>
  
      <div class="navbar-utility-right">
        <a href="favourites.html" class="icon-link"><i class="fa-solid fa-heart"></i></a>
        <a href="login.html" class="icon-link"><i class="fa-solid fa-user"></i></a>
        <a href="cart.html" class="icon-link"><i class="fa-solid fa-cart-shopping"></i></a>
  
      
        <button class="menu-toggle" id="menuToggle"><i class="fa-solid fa-bars"></i></button>
      </div>
    </div>
  
    <div class="navbar-bottom" id="navbarBottom">
      <ul class="menu-list">
        <li>
          <a href="dailywears.html">
            <img src="dailywearslogo.jpg" alt="Daily Wears" class="menu-icon-img">
            Daily Wears
          </a>
        </li>
        <li>
          <a href="necklaces.html">
            <img src="necklacelogo.jpg" alt="Necklaces" class="menu-icon-img">
            Necklaces
          </a>
        </li>
        <li>
          <a href="earings.html">
            <img src="earings.jpg" alt="Earrings" class="menu-icon-img">
            Earrings
          </a>
        </li>
        <li>
          <a href="rings.html">
            <img src="rings.jpg" alt="Rings" class="menu-icon-img">
            Rings
          </a>
        </li>
        <li>
          <a href="wedding.html">
            <img src="wedding.jpg" alt="Wedding" class="menu-icon-img">
            Wedding
          </a>
        </li>
        <li>
          <a href="gifting.html">
            <img src="gift.jpg" alt="Gifting" class="menu-icon-img">
            Gifting
          </a>
        </li>
      </ul>
    </div>
    
  </nav>

  <div class="necklace-page-container">
    <h1 class="page-title">Necklaces & Chains Collection</h1>
    <p class="page-subtitle">From dainty lockets to magnificent bridal sets, find your perfect centerpiece.</p>

    <div class="row"> <div class="col-lg-3 d-none d-lg-block"> <div class="filter-sidebar"> <h2 class="filter-heading">Filters</h2> <div class="filter-group"> <p class="filter-title">Necklace Type</p> <div class="form-check"> <input class="form-check-input" type="checkbox" id="choker"> <label class="form-check-label" for="choker">Chokers (45)</label> </div> <div class="form-check"> <input class="form-check-input" type="checkbox" id="collar" > <label class="form-check-label" for="collar">Collar (15)</label> </div> <div class="form-check"> <input class="form-check-input" type="checkbox" id="rani-haar"> <label class="form-check-label" for="rani-haar">Rani Haar (8)</label> </div> <div class="form-check"> <input class="form-check-input" type="checkbox" id="simple-chain"> <label class="form-check-label" for="simple-chain">Simple Chains (72)</label> </div> </div> <div class="filter-group"> <p class="filter-title">Metal</p> <div class="form-check"> <input class="form-check-input" type="checkbox" id="gold" > <label class="form-check-label" for="gold">Yellow Gold</label> </div> <div class="form-check"> <input class="form-check-input" type="checkbox" id="diamond"> <label class="form-check-label" for="diamond">Diamond Studded</label> </div> <div class="form-check"> <input class="form-check-input" type="checkbox" id="rose"> <label class="form-check-label" for="rose">Rose Gold</label> </div> </div> <div class="filter-group"> <p class="filter-title">Price Range</p> <input type="range" class="form-range" min="10000" max="500000" step="1000" id="priceRange"> <p class="price-display">â‚¹ 50,000 - â‚¹ 2,50,000</p> </div> <button class="btn btn-apply-filter w-100">Apply Filters</button> </div> </div>

      <div class="col-lg-9">
        <div class="sorting-bar d-flex justify-content-between align-items-center mb-3">
          <span class="product-count">140 Products Found</span>
          <select class="form-select sort-dropdown w-auto">
            <option selected>Sort by Relevance</option>
            <option value="1">Price: Low to High</option>
            <option value="2">Price: High to Low</option>
            <option value="3">Newest Arrivals</option>
          </select>
        </div>

        <div class="row row-cols-2 row-cols-md-3 g-4 product-grid">
          <!-- If you prefer static items, you can keep them here.
               But by default we'll render from the `products` array below. -->
        </div>
      </div>
    </div>
  </div>

    <footer class="main-footer">
        <div class="footer-content-wrapper">

            <div class="footer-logo"
                style="background-image: url(elaria.png); background-repeat: no-repeat; background-size: contain;">.
            </div>

            <div class="footer-grid">
                <div class="footer-col">
                    <p class="col-heading">Useful Links</p>
                    <ul>
                        <li><a href="#">Delivery Information</a></li>
                        <li><a href="#">International Shipping</a></li>
                        <li><a href="#">Payment Options</a></li>
                        <li><a href="#">Track your Order</a></li>
                        <li><a href="#">Returns</a></li>
                        <li><a href="#">Find a Store</a></li>
                    </ul>
                </div>

                <div class="footer-col">
                    <p class="col-heading">Information</p>
                    <ul>
                        <li><a href="blog.html">Blog</a></li>
                        <li><a href="offers.html">Offers & Contest Details</a></li>
                        <li><a href="helpandfaq.html">Help & FAQs</a></li>
                        <li><a href="about.html">About Elaria</a></li>
                        <li><a href="feedback.html">Feedback & Contact Us</a></li>

                    </ul>
                </div>

                <div class="footer-col contact-col">
                    <p class="col-heading">Contact Us</p>
                    <p class="contact-number">1800-266-0123</p>

                    <p class="col-heading chat-heading">Chat With Us</p>
                    <p class="contact-number">+91 7306614239</p>

                    <div class="contact-icons">
                        <a href="#">ðŸ’¬</a>
                        <a href="#">ðŸ“§</a>
                        <a href="#">ðŸ“ž</a>
                    </div>
                </div>

            </div>

            <div class="footer-social">
                <p class="col-heading">Social</p>
                <div class="social-icons">
                    <a href="#"><i class="fa-brands fa-instagram"> instagram</i>
                    </a>
                    <a href="#"><i class="fa-brands fa-facebook-f">acebook</i>
                    </a>
                    <a href="#"><i class="fa-brands fa-twitter"> X</i>
                    </a>
                    <a href="#"><i class="fa-brands fa-whatsapp"> whatsapp</i>
                    </a>
                </div>
            </div>

        </div>
    </footer>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
  /***********************
   * Product dataset
   ***********************/
  const products = [
    { id: 1, title: "Statement Emerald Necklace", price: 155000, image: 'images/StatementEmeraldNecklace.jpg', tags: ['discount'] },
    { id: 2, title: "Simple Delicate Locket Chain", price: 42000, image: 'images/DelicateLocketChain.jpg', tags: [] },
    { id: 3, title: "Traditional Gold Mangalsutra", price: 95500, image: 'images/TraditionalGoldMangalsutra.jpg', tags: ['new'] },
    { id: 4, title: "Rose Gold Solitaire Set", price: 210000, image: 'images/RoseGoldSolitaireSet.jpg', tags: [] },
    { id: 5, title: "Simple Diamond Chain", price: 78000, image: 'images/SimpleDiamondChain.jpg', tags: [] },
    { id: 6, title: "Bridal V-Shape Necklace", price: 345000, image: 'images/BridalV-ShapeNecklace.jpg', tags: [] }
  ];

  const productGrid = document.querySelector('.product-grid');
  const productCountSpan = document.querySelector('.product-count');
  const sortDropdown = document.querySelector('.sort-dropdown');

  /***********************
   * Render products (adds data-product-id on the button)
   ***********************/
  function renderProducts(list) {
    productCountSpan.textContent = `${list.length} Products Found`;

    const html = list.map(p => {
      const discountBadge = (p.tags && p.tags.includes('discount')) ? `<span class="discount-badge">-20%</span>` :
                            (p.tags && p.tags.includes('new')) ? `<span class="discount-badge">New</span>` : '';
      return `
      <div class="col">
        <div class="product-card">
          <div class="card-img" style="background-image: url('${p.image}');">
            ${discountBadge}
            <i class="fa-regular fa-heart wishlist-icon" data-product-id="${p.id}"></i>
          </div>
          <div class="card-body">
            <h5 class="card-title">${p.title}</h5>
            <p class="card-price">â‚¹ ${p.price.toLocaleString('en-IN')}</p>
            <!-- IMPORTANT: data-product-id added here -->
            <a href="#" class="btn btn-add-cart" data-product-id="${p.id}">Add to Cart</a>
          </div>
        </div>
      </div>
      `;
    }).join('');

    productGrid.innerHTML = html;

    // Re-attach listeners for wishlist + add to cart
    attachWishlistListeners();
    attachAddToCartListeners();
  }

  /***********************
   * Wishlist handlers (unchanged)
   ***********************/
  function attachWishlistListeners() {
    document.querySelectorAll('.wishlist-icon').forEach(icon => {
      icon.removeEventListener('click', toggleWishlist);
      icon.addEventListener('click', toggleWishlist);
    });
  }
  function toggleWishlist() {
    this.classList.toggle('fa-regular');
    this.classList.toggle('fa-solid');
    this.style.color = this.classList.contains('fa-solid') ? '#8A2D3C' : '#fff';
  }

  /***********************
   * Add to Cart logic
   ***********************/
  function attachAddToCartListeners() {
    document.querySelectorAll('.btn-add-cart').forEach(button => {
      // remove previous handler if any
      button.replaceWith(button.cloneNode(true));
    });

    // Re-select after clone to ensure no duplicate listeners
    document.querySelectorAll('.btn-add-cart').forEach(button => {
      button.addEventListener('click', (e) => {
        e.preventDefault();

        // Read cart (or create empty)
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        const card = button.closest('.product-card');
        const productId = button.dataset.productId || card.querySelector('.wishlist-icon')?.dataset.productId;
        // Find product data from products array (recommended approach)
        const productData = products.find(p => String(p.id) === String(productId));
        if (!productData) {
          alert('Product data not found. Please try again.');
          return;
        }

        const product = {
          id: String(productData.id),
          name: productData.title,
          price: Number(productData.price),
          image: productData.image,
          qty: 1
        };

        // If exists => increase qty else push new
        const existing = cart.find(item => item.id === product.id);
        if (existing) {
          existing.qty = (existing.qty || 0) + 1;
        } else {
          cart.push(product);
        }

        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        // friendly toast-like alert using setTimeout (non-blocking)
        showToast(`${product.name} added to cart`);
      });
    });
  }

  /***********************
   * Cart count updater (global function)
   ***********************/
  function updateCartCount() {
    const cartCountElem = document.querySelector('.cart-count');
    if (!cartCountElem) return;
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const total = cart.reduce((s, it) => s + (it.qty || 0), 0);
    cartCountElem.textContent = total;
  }

  /***********************
   * Small non-blocking toast (instead of alert)
   ***********************/
  function showToast(message) {
    // create small toast element
    const t = document.createElement('div');
    t.textContent = message;
    t.style.position = 'fixed';
    t.style.right = '20px';
    t.style.bottom = '20px';
    t.style.background = '#333';
    t.style.color = '#fff';
    t.style.padding = '10px 14px';
    t.style.borderRadius = '6px';
    t.style.boxShadow = '0 6px 18px rgba(0,0,0,0.15)';
    t.style.zIndex = 9999;
    t.style.opacity = '0';
    t.style.transition = 'opacity 0.2s ease, transform 0.2s ease';
    t.style.transform = 'translateY(8px)';
    document.body.appendChild(t);
    // animate in
    requestAnimationFrame(() => { t.style.opacity = '1'; t.style.transform = 'translateY(0)'; });
    setTimeout(() => {
      t.style.opacity = '0';
      t.style.transform = 'translateY(8px)';
      setTimeout(() => t.remove(), 300);
    }, 1800);
  }

  /***********************
   * Sorting (simple)
   ***********************/
  function applySorting() {
    const val = sortDropdown.value;
    let list = [...products];
    if (val === '1') list.sort((a,b) => a.price - b.price);
    else if (val === '2') list.sort((a,b) => b.price - a.price);
    else if (val === '3') list.sort((a,b) => b.id - a.id);
    renderProducts(list);
  }

  /***********************
   * Init on load
   ***********************/
  document.addEventListener('DOMContentLoaded', () => {
    renderProducts(products);
    updateCartCount();

    // sort change
    sortDropdown.addEventListener('change', applySorting);

    // search handlers (existing behavior)
    const searchInput = document.getElementById('searchInput');
    const searchButton = document.getElementById('searchButton');
    function performSearch() {
      const q = searchInput.value.trim();
      if (!q) { alert('Please enter a search term.'); return; }
      window.location.href = `searchresults.html?q=${encodeURIComponent(q)}`;
    }
    searchButton.addEventListener('click', performSearch);
    searchInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') performSearch(); });
  });
  </script>
</body>
</html>
